---
title: 关于接口与对象的一些思考
categories:
  - Java
date: 2019-01-15 20:49:08
updated: 2019-01-15 20:49:08
tags: 
  - Java
---
关于 Java 的接口与对象，很相似，但又有所不同，网络上的文章大多是介绍两者有什么地方不同。但很少有解释这两者产生的背景，及其真实的意义及作用到底是什么。我是最近忽然看到 ECS 的概念的时候产生的这种想法。
<!--more-->

# 先说不同

[官方的 Tutorial ](https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html)上对两者的不同有介绍：

> 抽象类与接口很相似。我们不能初始化它，他们可能会声明一些有实现也可能没有实现的方法。然而，使用抽象类，我们可以声明非 static, final 的字段，定义 public, protected, private 的方法。  
> 使用接口，所有的字段自动变成 public, static, final，所有定义的方法都是 public的。  
> 我们只能 extend 一个类，但是我们可以实现多个接口。


从这里来看，根本的区别就是：抽象类可以对字段进行修饰，而接口的字段和方法都是 public 的。

下面的情况考虑使用抽象类：

1. 在几个关联很密切的类间共享代码。
2. 希望继承抽象类的类有一些公共的方法和字段，或需要一些非 public 的修饰。
3. 需要定义 非 static, 非 final 的字段。

下面的情况就考虑使用接口：

1. 不相关的类都能实现接口。比如接口 Comparable 和 Cloneable 就被很多不相关的类实现。
2. 我们想指定一个特定数据类型的行为，但并不关心谁来实现它的行为。
3. 希望使用多重继承。

# 个人的理解

我更愿意用 ECS 中的观念去理解接口。用**组合**而非**继承**的方式去实现复杂的功能。 ECS 认为，总有抽象的类会复杂到不想用的地步，或者一开始这个类就抽象得不怎么样，你再怎么扩展都是很坑的。

同时，类 是为某一对象创建定义的原型或者蓝图，或者说是对某些性质的抽象。而接口，是对行为的定义。这应该据两者根本的不同。

